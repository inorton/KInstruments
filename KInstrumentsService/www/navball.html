<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
 <meta charset="utf-8" />
 <title>Horizon</title>
 <link href="static/css/bootstrap.css" rel="stylesheet"/>
 <link href="static/css/starter-template.css" rel="stylesheet"/>

 <script src="static/js/jquery-2.0.3.js"></script>
 <script src="static/js/bootstrap.min.js"></script>
 <script src="static/js/utils.js"></script>
 <script src="static/js/jsonproxy.js"></script>
 <script src="static/js/rpc.js"></script>
</head>
<body style="background:black; color:silver">
 <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">

   <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
     <span class="sr-only">Toggle navigation</span>
     <span class="icon-bar"></span>
     <span class="icon-bar"></span>
     <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="#">KInstruments</a>
   </div>

   <div class="collapse navbar-collapse">
    <ul class="nav navbar-nav">
     <li class="active"><a href="#horizon">Horizon</a></li>
     <li><a href="#throttle">Throttle</a></li>
    </ul>
   </div><!--/.nav-collapse -->
  </div>
 </div>

 <div class="container">
  <div class="starter-template">
   <div class="center">
    <div style="position:absolute; z-index:3">
    Roll: <span id="rolltext"></span>&deg;<br/>
    Pitch: <span id="pitchtext"></span>&deg;<br/>
    </div>
    <canvas id="navball" style="background:black; width:500;height:500;"></canvas>

     <script type="text/javascript">
         var data = navball_setup(document.getElementById("navball"));
         data.proxy = getRPC();

         function run(d) {

             var x = d.proxy.PollData();
             setTimeout(function () { run(d) }, 200);

             d.Roll = x.Roll;
             d.Pitch = x.Pitch;

             navball_once(d);
         }

         run(data);

     </script>
    </div>
   </div>
  </div>
 </body>
</html>
